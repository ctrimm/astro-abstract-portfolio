---
import { navigation } from '@/data/navigation';
import { siteConfig } from '@/data/site';
import { getPath } from '@/utils/paths';
---

<header class="fixed top-0 left-0 w-full z-50 mix-blend-difference text-white">
  <!-- Marquee Bar -->
  <div class="bg-white text-black overflow-hidden border-b-4 border-black whitespace-nowrap py-2">
    <div class="animate-marquee inline-block font-display font-black text-xl uppercase tracking-widest">
      {Array(10).fill(`${siteConfig.title} // `).map((item) => (
        <span class="mx-4">{item}</span>
      ))}
    </div>
    <div class="animate-marquee inline-block font-display font-black text-xl uppercase tracking-widest absolute top-2 left-0" aria-hidden="true">
      {Array(10).fill(`${siteConfig.title} // `).map((item) => (
        <span class="mx-4">{item}</span>
      ))}
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="flex justify-between items-start p-4 md:p-8">
    <!-- Logo / Home Link (Vertical) -->
    <a href={getPath('/')} class="hidden md:block writing-vertical-lr font-display text-4xl hover:text-primary transition-colors uppercase">
      {siteConfig.name}
    </a>

    <!-- Nav Links (Stacked Right) -->
    <div class="flex flex-col items-end gap-2">
      {navigation.map((item) => (
        <a 
          href={item.href} 
          class="font-display text-4xl md:text-6xl uppercase hover:bg-white hover:text-black transition-colors px-2"
        >
          {item.name}
        </a>
      ))}
      <a 
        href={siteConfig.links.email}
        class="font-display text-4xl md:text-6xl uppercase hover:bg-white hover:text-black transition-colors px-2"
      >
        Email
      </a>
      
      <!-- Time Display -->
      <div id="brutalist-time" class="mt-8 font-mono text-xl border-4 border-white p-2">
        00:00:00
      </div>
    </div>
  </nav>

  <!-- Mobile Menu Button (Simple Text) -->
  <button id="menu-toggle" class="md:hidden fixed bottom-8 right-8 bg-black text-white p-4 font-display uppercase border-4 border-white z-50">
    Menu
  </button>
</header>

<div class="h-24"></div> <!-- Spacer -->

<style>
  .writing-vertical-lr {
    writing-mode: vertical-lr;
    text-orientation: mixed;
  }
  
  .animate-marquee {
    animation: marquee 20s linear infinite;
  }
  
  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
</style>

<script>
  function updateTime() {
    const el = document.getElementById('brutalist-time');
    if (el) {
      el.textContent = new Date().toLocaleTimeString();
    }
  }
  setInterval(updateTime, 1000);
  updateTime();
</script>
